"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[354],{354:function(e,a,t){t.r(a),t.d(a,{default:function(){return Y}});var n=t(5861),r=t(885),s=t(4687),c=t.n(s),i=t(2791),o=t(7145),l=t(7981),u=t(7022),d=t(1413),m=t(5987),f=t(1694),v=t.n(f),h=t(162),p=t(184),b=["bsPrefix","className","as"],x=i.forwardRef((function(e,a){var t=e.bsPrefix,n=e.className,r=e.as,s=void 0===r?"div":r,c=(0,m.Z)(e,b),i=(0,h.vE)(t,"row"),o=(0,h.pi)(),l=(0,h.zG)(),u="".concat(i,"-cols"),f=[];return o.forEach((function(e){var a,t=c[e];delete c[e],a=null!=t&&"object"===typeof t?t.cols:t;var n=e!==l?"-".concat(e):"";null!=a&&f.push("".concat(u).concat(n,"-").concat(a))})),(0,p.jsx)(s,(0,d.Z)((0,d.Z)({ref:a},c),{},{className:v().apply(void 0,[n,i].concat(f))}))}));x.displayName="Row";var j=x,Z=t(2677),N=(t(5462),t(5065));function g(){var e=(0,i.useState)(""),a=(0,r.Z)(e,2),t=a[0],s=a[1],d=(0,i.useState)(""),m=(0,r.Z)(d,2),f=m[0],v=m[1],h=(0,N.wY)().data,b=(0,N.Tn)(),x=(0,r.Z)(b,2),g=x[0],C=x[1],y=C.isLoading,w=C.isSuccess;(0,i.useEffect)((function(){w&&((0,o.Qm)("Contact added "),s(""),v(""))}),[w]);var _=function(){var e=(0,n.Z)(c().mark((function e(a){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!h.some((function(e){return e.name.toLowerCase()===t.toLocaleLowerCase()}))){e.next=4;break}return(0,o.Co)("Contact ".concat(t," already exists")),e.abrupt("return");case 4:return n={name:t,number:f},e.prev=5,e.next=8,g(n);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),(0,o.Jc)(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(a){return e.apply(this,arguments)}}(),k=function(e){switch(e.target.name){case"name":s(e.target.value);break;case"number":v(e.target.value);break;default:return}};return(0,p.jsx)(u.Z,{className:"mb-5",children:(0,p.jsxs)(l.Z,{onSubmit:_,gap:3,children:[(0,p.jsxs)(j,{className:"justify-content-md-center",mb:3,gap:2,children:[(0,p.jsxs)(Z.Z,{xs:6,md:4,children:[(0,p.jsx)(l.Z.Label,{children:"Name"}),(0,p.jsx)(l.Z.Control,{onChange:k,type:"text",placeholder:"Enter name",name:"name",value:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})," "]}),(0,p.jsxs)(Z.Z,{xs:6,md:4,children:[(0,p.jsx)(l.Z.Label,{children:"Number"}),(0,p.jsx)(l.Z.Control,{type:"tel",value:f,placeholder:"Enter number",onChange:k,name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"number number must be at least 5 digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]})]}),(0,p.jsx)(j,{className:"mt-4",children:(0,p.jsx)(Z.Z,{gap:2,className:"justify-content-md-center",children:(0,p.jsx)("button",{className:"justify-content-md-center",type:"submit",disabled:!t||!f,children:y?"Loading...":" Add contact"})})})]})})}var C="ContactItem_contactItem__Z4FuP",y="ContactItem_button__IRFBz",w=function(e){var a=e.name,t=e.number,n=e.id,s=(0,N.Nt)(),c=(0,r.Z)(s,2),i=c[0],l=c[1],u=l.isSuccess,d=l.isLoading;return u&&(0,o.Qm)("Contact deleted"),(0,p.jsxs)("li",{className:C,children:[(0,p.jsx)("p",{children:a}),(0,p.jsx)("p",{children:t}),(0,p.jsx)("button",{className:y,onClick:function(){return i(n)},type:"button",disabled:d,children:d?"Deleting...":"Delete"})]})},_=(0,i.memo)(w),k="ContactList_loading__QJfkF",L=t(5048),z=t(6895),E=(t(2391),t(239)),I=t(7503),F=t(9007),P=t(4787),A=t(8633),S=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],K=i.forwardRef((function(e,a){var t=e.bsPrefix,n=e.active,s=e.disabled,c=e.eventKey,i=e.className,o=e.variant,l=e.action,u=e.as,f=(0,m.Z)(e,S);t=(0,h.vE)(t,"list-group-item");var b=(0,P.v)((0,d.Z)({key:(0,A.h)(c,f.href),active:n},f)),x=(0,r.Z)(b,2),j=x[0],Z=x[1],N=(0,F.Z)((function(e){if(s)return e.preventDefault(),void e.stopPropagation();j.onClick(e)}));s&&void 0===f.tabIndex&&(f.tabIndex=-1,f["aria-disabled"]=!0);var g=u||(l?f.href?"a":"button":"div");return(0,p.jsx)(g,(0,d.Z)((0,d.Z)((0,d.Z)({ref:a},f),j),{},{onClick:N,className:v()(i,t,Z.isActive&&"active",s&&"disabled",o&&"".concat(t,"-").concat(o),l&&"".concat(t,"-action"))}))}));K.displayName="ListGroupItem";var R=K,D=["className","bsPrefix","variant","horizontal","numbered","as"],G=i.forwardRef((function(e,a){var t,n=(0,E.Ch)(e,{activeKey:"onSelect"}),r=n.className,s=n.bsPrefix,c=n.variant,i=n.horizontal,o=n.numbered,l=n.as,u=void 0===l?"div":l,f=(0,m.Z)(n,D),b=(0,h.vE)(s,"list-group");return i&&(t=!0===i?"horizontal":"horizontal-".concat(i)),(0,p.jsx)(I.Z,(0,d.Z)((0,d.Z)({ref:a},f),{},{as:u,className:v()(r,b,c&&"".concat(b,"-").concat(c),t&&"".concat(b,"-").concat(t),o&&"".concat(b,"-numbered"))}))}));G.displayName="ListGroup";var J=Object.assign(G,{Item:R}),Q=function(){var e=(0,L.v9)(z.zK),a=(0,N.wY)(),t=a.data,n=a.error,r=a.isLoading,s=a.refetch;(0,i.useEffect)((function(){s()}),[s]);var c=function(){var a=e.toLocaleLowerCase().trim();if(t)return t.filter((function(e){return e.name.toLocaleLowerCase().includes(a)}))}();return(0,p.jsxs)(u.Z,{className:"mt-5",children:[r&&(0,p.jsx)("div",{className:k,children:"Loading..."}),t&&(0,p.jsx)(J,{as:"ul",children:0!==c.length?c.map((function(e){var a=e.name,t=e.number,n=e.id;return(0,p.jsx)(_,{id:n,name:a,number:t},n)})):(0,p.jsxs)(J.Item,{children:["Contact ",e," not found"]})}),n&&(0,p.jsx)("p",{children:"Ups, something was wrong!"})]})},q="Filter_input__N7T3z",B="Filter_label__vEd1E",M=function(){var e=(0,L.I0)(),a=(0,L.v9)(z.zK);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("label",{className:B,children:["Find contacts by name",(0,p.jsx)("input",{className:q,type:"text",value:a,onChange:function(a){e((0,z.M6)(a.target.value))}})]})})},T=t(1289),Y=function(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h1",{className:T.Z.title,children:"Phonebook"}),(0,p.jsx)(g,{}),(0,p.jsx)("h2",{className:T.Z.title,children:"Contacts"}),(0,p.jsx)(M,{}),(0,p.jsx)(Q,{})]})}}}]);
//# sourceMappingURL=354.e6785b89.chunk.js.map