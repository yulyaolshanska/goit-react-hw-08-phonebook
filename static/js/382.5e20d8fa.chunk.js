"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[382],{5382:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ge}});var r=t(5861),s=t(885),n=t(4687),i=t.n(n),o=t(2791),c=t(9085),l=function(e){c.Am.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},d=function(e){c.Am.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},u=t(1413),m=t(5987),f=t(1694),v=t.n(f),p=t(2007),b=t.n(p),h=t(184),x=["as","className","type","tooltip"],N={type:b().string,tooltip:b().bool,as:b().elementType},Z=o.forwardRef((function(e,a){var t=e.as,r=void 0===t?"div":t,s=e.className,n=e.type,i=void 0===n?"valid":n,o=e.tooltip,c=void 0!==o&&o,l=(0,m.Z)(e,x);return(0,h.jsx)(r,(0,u.Z)((0,u.Z)({},l),{},{ref:a,className:v()(s,"".concat(i,"-").concat(c?"tooltip":"feedback"))}))}));Z.displayName="Feedback",Z.propTypes=N;var y=Z,j=o.createContext({}),g=t(162),C=["id","bsPrefix","className","type","isValid","isInvalid","as"],w=o.forwardRef((function(e,a){var t=e.id,r=e.bsPrefix,s=e.className,n=e.type,i=void 0===n?"checkbox":n,c=e.isValid,l=void 0!==c&&c,d=e.isInvalid,f=void 0!==d&&d,p=e.as,b=void 0===p?"input":p,x=(0,m.Z)(e,C),N=(0,o.useContext)(j).controlId;return r=(0,g.vE)(r,"form-check-input"),(0,h.jsx)(b,(0,u.Z)((0,u.Z)({},x),{},{ref:a,type:i,id:t||N,className:v()(s,r,l&&"is-valid",f&&"is-invalid")}))}));w.displayName="FormCheckInput";var k=w,P=["bsPrefix","className","htmlFor"],I=o.forwardRef((function(e,a){var t=e.bsPrefix,r=e.className,s=e.htmlFor,n=(0,m.Z)(e,P),i=(0,o.useContext)(j).controlId;return t=(0,g.vE)(t,"form-check-label"),(0,h.jsx)("label",(0,u.Z)((0,u.Z)({},n),{},{ref:a,htmlFor:s||i,className:v()(r,t)}))}));I.displayName="FormCheckLabel";var F=I;var L=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],z=o.forwardRef((function(e,a){var t=e.id,r=e.bsPrefix,s=e.bsSwitchPrefix,n=e.inline,i=void 0!==n&&n,c=e.reverse,l=void 0!==c&&c,d=e.disabled,f=void 0!==d&&d,p=e.isValid,b=void 0!==p&&p,x=e.isInvalid,N=void 0!==x&&x,Z=e.feedbackTooltip,C=void 0!==Z&&Z,w=e.feedback,P=e.feedbackType,I=e.className,z=e.style,E=e.title,R=void 0===E?"":E,_=e.type,S=void 0===_?"checkbox":_,O=e.label,T=e.children,V=e.as,A=void 0===V?"input":V,G=(0,m.Z)(e,L);r=(0,g.vE)(r,"form-check"),s=(0,g.vE)(s,"form-switch");var H=(0,o.useContext)(j).controlId,B=(0,o.useMemo)((function(){return{controlId:t||H}}),[H,t]),K=!T&&null!=O&&!1!==O||function(e,a){return o.Children.toArray(e).some((function(e){return o.isValidElement(e)&&e.type===a}))}(T,F),D=(0,h.jsx)(k,(0,u.Z)((0,u.Z)({},G),{},{type:"switch"===S?"checkbox":S,ref:a,isValid:b,isInvalid:N,disabled:f,as:A}));return(0,h.jsx)(j.Provider,{value:B,children:(0,h.jsx)("div",{style:z,className:v()(I,K&&r,i&&"".concat(r,"-inline"),l&&"".concat(r,"-reverse"),"switch"===S&&s),children:T||(0,h.jsxs)(h.Fragment,{children:[D,K&&(0,h.jsx)(F,{title:R,children:O}),w&&(0,h.jsx)(y,{type:P,tooltip:C,children:w})]})})})}));z.displayName="FormCheck";var E=Object.assign(z,{Input:k,Label:F}),R=t(4942),_=(t(2391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),S=o.forwardRef((function(e,a){var t,r,s=e.bsPrefix,n=e.type,i=e.size,c=e.htmlSize,l=e.id,d=e.className,f=e.isValid,p=void 0!==f&&f,b=e.isInvalid,x=void 0!==b&&b,N=e.plaintext,Z=e.readOnly,y=e.as,C=void 0===y?"input":y,w=(0,m.Z)(e,_),k=(0,o.useContext)(j).controlId;(s=(0,g.vE)(s,"form-control"),N)?t=(0,R.Z)({},"".concat(s,"-plaintext"),!0):(r={},(0,R.Z)(r,s,!0),(0,R.Z)(r,"".concat(s,"-").concat(i),i),t=r);return(0,h.jsx)(C,(0,u.Z)((0,u.Z)({},w),{},{type:n,size:c,ref:a,readOnly:Z,id:l||k,className:v()(d,t,p&&"is-valid",x&&"is-invalid","color"===n&&"".concat(s,"-color"))}))}));S.displayName="FormControl";var O=Object.assign(S,{Feedback:y}),T=(0,t(6543).Z)("form-floating"),V=["controlId","as"],A=o.forwardRef((function(e,a){var t=e.controlId,r=e.as,s=void 0===r?"div":r,n=(0,m.Z)(e,V),i=(0,o.useMemo)((function(){return{controlId:t}}),[t]);return(0,h.jsx)(j.Provider,{value:i,children:(0,h.jsx)(s,(0,u.Z)((0,u.Z)({},n),{},{ref:a}))})}));A.displayName="FormGroup";var G=A,H=["as","bsPrefix","className"],B=["className"];var K=o.forwardRef((function(e,a){var t=function(e){var a=e.as,t=e.bsPrefix,r=e.className,s=(0,m.Z)(e,H);t=(0,g.vE)(t,"col");var n=(0,g.pi)(),i=(0,g.zG)(),o=[],c=[];return n.forEach((function(e){var a,r,n,l=s[e];delete s[e],"object"===typeof l&&null!=l?(a=l.span,r=l.offset,n=l.order):a=l;var d=e!==i?"-".concat(e):"";a&&o.push(!0===a?"".concat(t).concat(d):"".concat(t).concat(d,"-").concat(a)),null!=n&&c.push("order".concat(d,"-").concat(n)),null!=r&&c.push("offset".concat(d,"-").concat(r))})),[(0,u.Z)((0,u.Z)({},s),{},{className:v().apply(void 0,[r].concat(o,c))}),{as:a,bsPrefix:t,spans:o}]}(e),r=(0,s.Z)(t,2),n=r[0],i=n.className,o=(0,m.Z)(n,B),c=r[1],l=c.as,d=void 0===l?"div":l,f=c.bsPrefix,p=c.spans;return(0,h.jsx)(d,(0,u.Z)((0,u.Z)({},o),{},{ref:a,className:v()(i,!p.length&&f)}))}));K.displayName="Col";var D=K,M=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],q=o.forwardRef((function(e,a){var t=e.as,r=void 0===t?"label":t,s=e.bsPrefix,n=e.column,i=e.visuallyHidden,c=e.className,l=e.htmlFor,d=(0,m.Z)(e,M),f=(0,o.useContext)(j).controlId;s=(0,g.vE)(s,"form-label");var p="col-form-label";"string"===typeof n&&(p="".concat(p," ").concat(p,"-").concat(n));var b=v()(c,s,i&&"visually-hidden",n&&p);return l=l||f,n?(0,h.jsx)(D,(0,u.Z)({ref:a,as:"label",className:b,htmlFor:l},d)):(0,h.jsx)(r,(0,u.Z)({ref:a,className:b,htmlFor:l},d))}));q.displayName="FormLabel",q.defaultProps={column:!1,visuallyHidden:!1};var J=q,Y=["bsPrefix","className","id"],Q=o.forwardRef((function(e,a){var t=e.bsPrefix,r=e.className,s=e.id,n=(0,m.Z)(e,Y),i=(0,o.useContext)(j).controlId;return t=(0,g.vE)(t,"form-range"),(0,h.jsx)("input",(0,u.Z)((0,u.Z)({},n),{},{type:"range",ref:a,className:v()(r,t),id:s||i}))}));Q.displayName="FormRange";var U=Q,$=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],W=o.forwardRef((function(e,a){var t=e.bsPrefix,r=e.size,s=e.htmlSize,n=e.className,i=e.isValid,c=void 0!==i&&i,l=e.isInvalid,d=void 0!==l&&l,f=e.id,p=(0,m.Z)(e,$),b=(0,o.useContext)(j).controlId;return t=(0,g.vE)(t,"form-select"),(0,h.jsx)("select",(0,u.Z)((0,u.Z)({},p),{},{size:s,ref:a,className:v()(n,t,r&&"".concat(t,"-").concat(r),c&&"is-valid",d&&"is-invalid"),id:f||b}))}));W.displayName="FormSelect";var X=W,ee=["bsPrefix","className","as","muted"],ae=o.forwardRef((function(e,a){var t=e.bsPrefix,r=e.className,s=e.as,n=void 0===s?"small":s,i=e.muted,o=(0,m.Z)(e,ee);return t=(0,g.vE)(t,"form-text"),(0,h.jsx)(n,(0,u.Z)((0,u.Z)({},o),{},{ref:a,className:v()(r,t,i&&"text-muted")}))}));ae.displayName="FormText";var te=ae,re=o.forwardRef((function(e,a){return(0,h.jsx)(E,(0,u.Z)((0,u.Z)({},e),{},{ref:a,type:"switch"}))}));re.displayName="Switch";var se=Object.assign(re,{Input:E.Input,Label:E.Label}),ne=["bsPrefix","className","children","controlId","label"],ie=o.forwardRef((function(e,a){var t=e.bsPrefix,r=e.className,s=e.children,n=e.controlId,i=e.label,o=(0,m.Z)(e,ne);return t=(0,g.vE)(t,"form-floating"),(0,h.jsxs)(G,(0,u.Z)((0,u.Z)({ref:a,className:v()(r,t),controlId:n},o),{},{children:[s,(0,h.jsx)("label",{htmlFor:n,children:i})]}))}));ie.displayName="FloatingLabel";var oe=ie,ce=["className","validated","as"],le={_ref:b().any,validated:b().bool,as:b().elementType},de=o.forwardRef((function(e,a){var t=e.className,r=e.validated,s=e.as,n=void 0===s?"form":s,i=(0,m.Z)(e,ce);return(0,h.jsx)(n,(0,u.Z)((0,u.Z)({},i),{},{ref:a,className:v()(t,r&&"was-validated")}))}));de.displayName="Form",de.propTypes=le;var ue=Object.assign(de,{Group:G,Control:O,Floating:T,Check:E,Switch:se,Label:J,Text:te,Range:U,Select:X,FloatingLabel:oe}),me=t(7022),fe=["bsPrefix","className","as"],ve=o.forwardRef((function(e,a){var t=e.bsPrefix,r=e.className,s=e.as,n=void 0===s?"div":s,i=(0,m.Z)(e,fe),o=(0,g.vE)(t,"row"),c=(0,g.pi)(),l=(0,g.zG)(),d="".concat(o,"-cols"),f=[];return c.forEach((function(e){var a,t=i[e];delete i[e],a=null!=t&&"object"===typeof t?t.cols:t;var r=e!==l?"-".concat(e):"";null!=a&&f.push("".concat(d).concat(r,"-").concat(a))})),(0,h.jsx)(n,(0,u.Z)((0,u.Z)({ref:a},i),{},{className:v().apply(void 0,[r,o].concat(f))}))}));ve.displayName="Row";var pe=ve,be=t(5065);function he(){var e=(0,o.useState)(""),a=(0,s.Z)(e,2),t=a[0],n=a[1],u=(0,o.useState)(""),m=(0,s.Z)(u,2),f=m[0],v=m[1],p=(0,be.wY)().data,b=(0,be.Tn)(),x=(0,s.Z)(b,2),N=x[0],Z=x[1],y=Z.isLoading,j=Z.isSuccess,g=function(){var e=(0,r.Z)(i().mark((function e(a){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!p.some((function(e){return e.name.toLowerCase()===t.toLocaleLowerCase()}))){e.next=4;break}return s="Contact ".concat(t," already exists"),c.Am.warn(s,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),e.abrupt("return");case 4:return r={name:t,number:f},e.prev=5,e.next=8,N(r);case 8:j&&(l("Contact added "),n(""),v("")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),d(e.t0.message);case 14:case"end":return e.stop()}var s}),e,null,[[5,11]])})));return function(a){return e.apply(this,arguments)}}(),C=function(e){switch(e.target.name){case"name":n(e.target.value);break;case"number":v(e.target.value);break;default:return}};return(0,h.jsx)(me.Z,{className:"mb-5",children:(0,h.jsxs)(ue,{onSubmit:g,gap:3,children:[(0,h.jsxs)(pe,{className:"justify-content-md-center",mb:3,gap:2,children:[(0,h.jsxs)(D,{xs:6,md:4,children:[(0,h.jsx)(ue.Label,{children:"Name"}),(0,h.jsx)(ue.Control,{onChange:C,type:"text",placeholder:"Enter name",name:"name",defaultValue:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})," "]}),(0,h.jsxs)(D,{xs:6,md:4,children:[(0,h.jsx)(ue.Label,{children:"Number"}),(0,h.jsx)(ue.Control,{type:"tel",placeholder:"Enter number",defaultValue:f,onChange:C,name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"number number must be at least 5 digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]})]}),(0,h.jsx)(pe,{className:"mt-4",children:(0,h.jsx)(D,{gap:2,className:"justify-content-md-center",children:(0,h.jsx)("button",{className:"justify-content-md-center",type:"submit",disabled:!t||!f,children:y?"Loading...":" Add contact"})})})]})})}var xe="ContactItem_contactItem__Z4FuP",Ne="ContactItem_button__IRFBz",Ze=function(e){var a=e.name,t=e.number,r=e.id,n=(0,be.Nt)(),i=(0,s.Z)(n,2),o=i[0],c=i[1],d=c.isSuccess,u=c.isLoading;return d&&l("Contact deleted"),(0,h.jsxs)("li",{className:xe,children:[(0,h.jsx)("p",{children:a}),(0,h.jsx)("p",{children:t}),(0,h.jsx)("button",{className:Ne,onClick:function(){return o(r)},type:"button",disabled:u,children:u?"Deleting...":"Delete"})]})},ye="ContactList_loading__QJfkF",je=t(5048),ge=t(6895),Ce=t(239),we=t(7503),ke=t(9007),Pe=t(4787),Ie=t(8633),Fe=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],Le=o.forwardRef((function(e,a){var t=e.bsPrefix,r=e.active,n=e.disabled,i=e.eventKey,o=e.className,c=e.variant,l=e.action,d=e.as,f=(0,m.Z)(e,Fe);t=(0,g.vE)(t,"list-group-item");var p=(0,Pe.v)((0,u.Z)({key:(0,Ie.h)(i,f.href),active:r},f)),b=(0,s.Z)(p,2),x=b[0],N=b[1],Z=(0,ke.Z)((function(e){if(n)return e.preventDefault(),void e.stopPropagation();x.onClick(e)}));n&&void 0===f.tabIndex&&(f.tabIndex=-1,f["aria-disabled"]=!0);var y=d||(l?f.href?"a":"button":"div");return(0,h.jsx)(y,(0,u.Z)((0,u.Z)((0,u.Z)({ref:a},f),x),{},{onClick:Z,className:v()(o,t,N.isActive&&"active",n&&"disabled",c&&"".concat(t,"-").concat(c),l&&"".concat(t,"-action"))}))}));Le.displayName="ListGroupItem";var ze=Le,Ee=["className","bsPrefix","variant","horizontal","numbered","as"],Re=o.forwardRef((function(e,a){var t,r=(0,Ce.Ch)(e,{activeKey:"onSelect"}),s=r.className,n=r.bsPrefix,i=r.variant,o=r.horizontal,c=r.numbered,l=r.as,d=void 0===l?"div":l,f=(0,m.Z)(r,Ee),p=(0,g.vE)(n,"list-group");return o&&(t=!0===o?"horizontal":"horizontal-".concat(o)),(0,h.jsx)(we.Z,(0,u.Z)((0,u.Z)({ref:a},f),{},{as:d,className:v()(s,p,i&&"".concat(p,"-").concat(i),t&&"".concat(p,"-").concat(t),c&&"".concat(p,"-numbered"))}))}));Re.displayName="ListGroup";var _e=Object.assign(Re,{Item:ze}),Se=function(){var e=(0,je.v9)(ge.zK),a=(0,be.wY)(),t=a.data,r=a.error,s=a.isLoading,n=a.refetch;(0,o.useEffect)((function(){n()}),[n]);var i=function(){var a=e.toLocaleLowerCase().trim();if(t)return t.filter((function(e){return e.name.toLocaleLowerCase().includes(a)}))}();return(0,h.jsxs)(me.Z,{className:"mt-5",children:[s&&(0,h.jsx)("div",{className:ye,children:"Loading..."}),t&&(0,h.jsx)(_e,{as:"ul",children:0!==i.length?i.map((function(e){var a=e.name,t=e.number,r=e.id;return(0,h.jsx)(Ze,{id:r,name:a,number:t},r)})):(0,h.jsxs)(_e.Item,{children:["Contact ",e," not found"]})}),r&&(0,h.jsx)("p",{children:"Ups, something was wrong!"})]})},Oe="Filter_input__N7T3z",Te="Filter_label__vEd1E",Ve=function(){var e=(0,je.I0)(),a=(0,je.v9)(ge.zK);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("label",{className:Te,children:["Find contacts by name",(0,h.jsx)("input",{className:Oe,type:"text",value:a,onChange:function(a){e((0,ge.M6)(a.target.value))}})]})})},Ae=t(1289),Ge=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h1",{className:Ae.Z.title,children:"Phonebook"}),(0,h.jsx)(he,{}),(0,h.jsx)("h2",{className:Ae.Z.title,children:"Contacts"}),(0,h.jsx)(Ve,{}),(0,h.jsx)(Se,{})]})}},2391:function(e){var a=function(){};e.exports=a}}]);
//# sourceMappingURL=382.5e20d8fa.chunk.js.map