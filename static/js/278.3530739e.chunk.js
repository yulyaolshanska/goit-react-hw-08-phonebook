"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[278],{3278:function(e,a,t){t.r(a),t.d(a,{default:function(){return Y}});var n=t(5861),r=t(885),s=t(4687),c=t.n(s),o=t(2791),i=t(9085),l=function(e){i.Am.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},d=function(e){i.Am.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},u=t(7981),m=t(7022),h=t(1413),v=t(5987),f=t(1694),p=t.n(f),b=t(162),x=t(184),g=["bsPrefix","className","as"],j=o.forwardRef((function(e,a){var t=e.bsPrefix,n=e.className,r=e.as,s=void 0===r?"div":r,c=(0,v.Z)(e,g),o=(0,b.vE)(t,"row"),i=(0,b.pi)(),l=(0,b.zG)(),d="".concat(o,"-cols"),u=[];return i.forEach((function(e){var a,t=c[e];delete c[e],a=null!=t&&"object"===typeof t?t.cols:t;var n=e!==l?"-".concat(e):"";null!=a&&u.push("".concat(d).concat(n,"-").concat(a))})),(0,x.jsx)(s,(0,h.Z)((0,h.Z)({ref:a},c),{},{className:p().apply(void 0,[n,o].concat(u))}))}));j.displayName="Row";var Z=j,C=t(2677),N=t(5065);function k(){var e=(0,o.useState)(""),a=(0,r.Z)(e,2),t=a[0],s=a[1],h=(0,o.useState)(""),v=(0,r.Z)(h,2),f=v[0],p=v[1],b=(0,N.wY)().data,g=(0,N.Tn)(),j=(0,r.Z)(g,2),k=j[0],w=j[1],y=w.isLoading,_=w.isSuccess;(0,o.useEffect)((function(){_&&(l("Contact added "),s(""),p(""))}),[_]);var L=function(){var e=(0,n.Z)(c().mark((function e(a){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!b.some((function(e){return e.name.toLowerCase()===t.toLocaleLowerCase()}))){e.next=4;break}return r="Contact ".concat(t," already exists"),i.Am.warn(r,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),e.abrupt("return");case 4:return n={name:t,number:f},e.prev=5,e.next=8,k(n);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),d(e.t0.message);case 13:case"end":return e.stop()}var r}),e,null,[[5,10]])})));return function(a){return e.apply(this,arguments)}}(),z=function(e){switch(e.target.name){case"name":s(e.target.value);break;case"number":p(e.target.value);break;default:return}};return(0,x.jsx)(m.Z,{className:"mb-5",children:(0,x.jsxs)(u.Z,{onSubmit:L,gap:3,children:[(0,x.jsxs)(Z,{className:"justify-content-md-center",mb:3,gap:2,children:[(0,x.jsxs)(C.Z,{xs:6,md:4,children:[(0,x.jsx)(u.Z.Label,{children:"Name"}),(0,x.jsx)(u.Z.Control,{onChange:z,type:"text",placeholder:"Enter name",name:"name",value:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})," "]}),(0,x.jsxs)(C.Z,{xs:6,md:4,children:[(0,x.jsx)(u.Z.Label,{children:"Number"}),(0,x.jsx)(u.Z.Control,{type:"tel",value:f,placeholder:"Enter number",onChange:z,name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"number number must be at least 5 digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]})]}),(0,x.jsx)(Z,{className:"mt-4",children:(0,x.jsx)(C.Z,{gap:2,className:"justify-content-md-center",children:(0,x.jsx)("button",{className:"justify-content-md-center",type:"submit",disabled:!t||!f,children:y?"Loading...":" Add contact"})})})]})})}var w="ContactItem_contactItem__Z4FuP",y="ContactItem_button__IRFBz",_=function(e){var a=e.name,t=e.number,n=e.id,s=(0,N.Nt)(),c=(0,r.Z)(s,2),o=c[0],i=c[1],d=i.isSuccess,u=i.isLoading;return d&&l("Contact deleted"),(0,x.jsxs)("li",{className:w,children:[(0,x.jsx)("p",{children:a}),(0,x.jsx)("p",{children:t}),(0,x.jsx)("button",{className:y,onClick:function(){return o(n)},type:"button",disabled:u,children:u?"Deleting...":"Delete"})]})},L="ContactList_loading__QJfkF",z=t(5048),P=t(6895),A=(t(2391),t(239)),E=t(7503),I=t(9007),F=t(4787),O=t(8633),S=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],B=o.forwardRef((function(e,a){var t=e.bsPrefix,n=e.active,s=e.disabled,c=e.eventKey,o=e.className,i=e.variant,l=e.action,d=e.as,u=(0,v.Z)(e,S);t=(0,b.vE)(t,"list-group-item");var m=(0,F.v)((0,h.Z)({key:(0,O.h)(c,u.href),active:n},u)),f=(0,r.Z)(m,2),g=f[0],j=f[1],Z=(0,I.Z)((function(e){if(s)return e.preventDefault(),void e.stopPropagation();g.onClick(e)}));s&&void 0===u.tabIndex&&(u.tabIndex=-1,u["aria-disabled"]=!0);var C=d||(l?u.href?"a":"button":"div");return(0,x.jsx)(C,(0,h.Z)((0,h.Z)((0,h.Z)({ref:a},u),g),{},{onClick:Z,className:p()(o,t,j.isActive&&"active",s&&"disabled",i&&"".concat(t,"-").concat(i),l&&"".concat(t,"-action"))}))}));B.displayName="ListGroupItem";var K=B,R=["className","bsPrefix","variant","horizontal","numbered","as"],D=o.forwardRef((function(e,a){var t,n=(0,A.Ch)(e,{activeKey:"onSelect"}),r=n.className,s=n.bsPrefix,c=n.variant,o=n.horizontal,i=n.numbered,l=n.as,d=void 0===l?"div":l,u=(0,v.Z)(n,R),m=(0,b.vE)(s,"list-group");return o&&(t=!0===o?"horizontal":"horizontal-".concat(o)),(0,x.jsx)(E.Z,(0,h.Z)((0,h.Z)({ref:a},u),{},{as:d,className:p()(r,m,c&&"".concat(m,"-").concat(c),t&&"".concat(m,"-").concat(t),i&&"".concat(m,"-numbered"))}))}));D.displayName="ListGroup";var G=Object.assign(D,{Item:K}),H=function(){var e=(0,z.v9)(P.zK),a=(0,N.wY)(),t=a.data,n=a.error,r=a.isLoading,s=a.refetch;(0,o.useEffect)((function(){s()}),[s]);var c=function(){var a=e.toLocaleLowerCase().trim();if(t)return t.filter((function(e){return e.name.toLocaleLowerCase().includes(a)}))}();return(0,x.jsxs)(m.Z,{className:"mt-5",children:[r&&(0,x.jsx)("div",{className:L,children:"Loading..."}),t&&(0,x.jsx)(G,{as:"ul",children:0!==c.length?c.map((function(e){var a=e.name,t=e.number,n=e.id;return(0,x.jsx)(_,{id:n,name:a,number:t},n)})):(0,x.jsxs)(G.Item,{children:["Contact ",e," not found"]})}),n&&(0,x.jsx)("p",{children:"Ups, something was wrong!"})]})},q="Filter_input__N7T3z",J="Filter_label__vEd1E",M=function(){var e=(0,z.I0)(),a=(0,z.v9)(P.zK);return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("label",{className:J,children:["Find contacts by name",(0,x.jsx)("input",{className:q,type:"text",value:a,onChange:function(a){e((0,P.M6)(a.target.value))}})]})})},T=t(1289),Y=function(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h1",{className:T.Z.title,children:"Phonebook"}),(0,x.jsx)(k,{}),(0,x.jsx)("h2",{className:T.Z.title,children:"Contacts"}),(0,x.jsx)(M,{}),(0,x.jsx)(H,{})]})}}}]);
//# sourceMappingURL=278.3530739e.chunk.js.map