"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[905],{2905:function(e,a,t){t.r(a),t.d(a,{default:function(){return q}});var n=t(5861),r=t(885),s=t(4687),c=t.n(s),o=t(2791),i=t(7145),l=t(7981),u=t(7022),d=t(1413),m=t(5987),f=t(1694),h=t.n(f),v=t(162),p=t(184),b=["bsPrefix","className","as"],x=o.forwardRef((function(e,a){var t=e.bsPrefix,n=e.className,r=e.as,s=void 0===r?"div":r,c=(0,m.Z)(e,b),o=(0,v.vE)(t,"row"),i=(0,v.pi)(),l=(0,v.zG)(),u="".concat(o,"-cols"),f=[];return i.forEach((function(e){var a,t=c[e];delete c[e],a=null!=t&&"object"===typeof t?t.cols:t;var n=e!==l?"-".concat(e):"";null!=a&&f.push("".concat(u).concat(n,"-").concat(a))})),(0,p.jsx)(s,(0,d.Z)((0,d.Z)({ref:a},c),{},{className:h().apply(void 0,[n,o].concat(f))}))}));x.displayName="Row";var g=x,j=t(2677),Z=t(5065);function C(){var e=(0,o.useState)(""),a=(0,r.Z)(e,2),t=a[0],s=a[1],d=(0,o.useState)(""),m=(0,r.Z)(d,2),f=m[0],h=m[1],v=(0,Z.wY)().data,b=(0,Z.Tn)(),x=(0,r.Z)(b,2),C=x[0],N=x[1],k=N.isLoading,w=N.isSuccess;(0,o.useEffect)((function(){w&&((0,i.Qm)("Contact added "),s(""),h(""))}),[w]);var y=function(){var e=(0,n.Z)(c().mark((function e(a){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!v.some((function(e){return e.name.toLowerCase()===t.toLocaleLowerCase()}))){e.next=4;break}return(0,i.Co)("Contact ".concat(t," already exists")),e.abrupt("return");case 4:return n={name:t,number:f},e.prev=5,e.next=8,C(n);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),(0,i.Jc)(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(a){return e.apply(this,arguments)}}(),_=function(e){switch(e.target.name){case"name":s(e.target.value);break;case"number":h(e.target.value);break;default:return}};return(0,p.jsx)(u.Z,{className:"mb-5",children:(0,p.jsxs)(l.Z,{onSubmit:y,gap:3,children:[(0,p.jsxs)(g,{className:"justify-content-md-center",mb:3,gap:2,children:[(0,p.jsxs)(j.Z,{xs:6,md:4,children:[(0,p.jsx)(l.Z.Label,{children:"Name"}),(0,p.jsx)(l.Z.Control,{onChange:_,type:"text",placeholder:"Enter name",name:"name",value:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})," "]}),(0,p.jsxs)(j.Z,{xs:6,md:4,children:[(0,p.jsx)(l.Z.Label,{children:"Number"}),(0,p.jsx)(l.Z.Control,{type:"tel",value:f,placeholder:"Enter number",onChange:_,name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"number number must be at least 5 digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]})]}),(0,p.jsx)(g,{className:"mt-4",children:(0,p.jsx)(j.Z,{gap:2,className:"justify-content-md-center",children:(0,p.jsx)("button",{className:"justify-content-md-center",type:"submit",disabled:!t||!f,children:k?"Loading...":" Add contact"})})})]})})}var N="ContactItem_contactItem__Z4FuP",k="ContactItem_button__IRFBz",w=function(e){var a=e.name,t=e.number,n=e.id,s=(0,Z.Nt)(),c=(0,r.Z)(s,2),o=c[0],l=c[1],u=l.isSuccess,d=l.isLoading;return u&&(0,i.Qm)("Contact deleted"),(0,p.jsxs)("li",{className:N,children:[(0,p.jsx)("p",{children:a}),(0,p.jsx)("p",{children:t}),(0,p.jsx)("button",{className:k,onClick:function(){return o(n)},type:"button",disabled:d,children:d?"Deleting...":"Delete"})]})},y="ContactList_loading__QJfkF",_=t(5048),L=t(6895),z=(t(2391),t(239)),P=t(7503),A=t(9007),E=t(4787),I=t(8633),F=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],O=o.forwardRef((function(e,a){var t=e.bsPrefix,n=e.active,s=e.disabled,c=e.eventKey,o=e.className,i=e.variant,l=e.action,u=e.as,f=(0,m.Z)(e,F);t=(0,v.vE)(t,"list-group-item");var b=(0,E.v)((0,d.Z)({key:(0,I.h)(c,f.href),active:n},f)),x=(0,r.Z)(b,2),g=x[0],j=x[1],Z=(0,A.Z)((function(e){if(s)return e.preventDefault(),void e.stopPropagation();g.onClick(e)}));s&&void 0===f.tabIndex&&(f.tabIndex=-1,f["aria-disabled"]=!0);var C=u||(l?f.href?"a":"button":"div");return(0,p.jsx)(C,(0,d.Z)((0,d.Z)((0,d.Z)({ref:a},f),g),{},{onClick:Z,className:h()(o,t,j.isActive&&"active",s&&"disabled",i&&"".concat(t,"-").concat(i),l&&"".concat(t,"-action"))}))}));O.displayName="ListGroupItem";var S=O,B=["className","bsPrefix","variant","horizontal","numbered","as"],K=o.forwardRef((function(e,a){var t,n=(0,z.Ch)(e,{activeKey:"onSelect"}),r=n.className,s=n.bsPrefix,c=n.variant,o=n.horizontal,i=n.numbered,l=n.as,u=void 0===l?"div":l,f=(0,m.Z)(n,B),b=(0,v.vE)(s,"list-group");return o&&(t=!0===o?"horizontal":"horizontal-".concat(o)),(0,p.jsx)(P.Z,(0,d.Z)((0,d.Z)({ref:a},f),{},{as:u,className:h()(r,b,c&&"".concat(b,"-").concat(c),t&&"".concat(b,"-").concat(t),i&&"".concat(b,"-numbered"))}))}));K.displayName="ListGroup";var R=Object.assign(K,{Item:S}),D=function(){var e=(0,_.v9)(L.zK),a=(0,Z.wY)(),t=a.data,n=a.error,r=a.isLoading,s=a.refetch;(0,o.useEffect)((function(){s()}),[s]);var c=function(){var a=e.toLocaleLowerCase().trim();if(t)return t.filter((function(e){return e.name.toLocaleLowerCase().includes(a)}))}();return(0,p.jsxs)(u.Z,{className:"mt-5",children:[r&&(0,p.jsx)("div",{className:y,children:"Loading..."}),t&&(0,p.jsx)(R,{as:"ul",children:0!==c.length?c.map((function(e){var a=e.name,t=e.number,n=e.id;return(0,p.jsx)(w,{id:n,name:a,number:t},n)})):(0,p.jsxs)(R.Item,{children:["Contact ",e," not found"]})}),n&&(0,p.jsx)("p",{children:"Ups, something was wrong!"})]})},J="Filter_input__N7T3z",Q="Filter_label__vEd1E",G=function(){var e=(0,_.I0)(),a=(0,_.v9)(L.zK);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("label",{className:Q,children:["Find contacts by name",(0,p.jsx)("input",{className:J,type:"text",value:a,onChange:function(a){e((0,L.M6)(a.target.value))}})]})})},H=t(1289),q=function(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h1",{className:H.Z.title,children:"Phonebook"}),(0,p.jsx)(C,{}),(0,p.jsx)("h2",{className:H.Z.title,children:"Contacts"}),(0,p.jsx)(G,{}),(0,p.jsx)(D,{})]})}},7145:function(e,a,t){t.d(a,{Co:function(){return c},Jc:function(){return s},Qm:function(){return r}});var n=t(9085),r=function(e){n.Am.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},s=function(e){n.Am.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},c=function(e){n.Am.warn(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}}}]);
//# sourceMappingURL=905.6d9c8d87.chunk.js.map